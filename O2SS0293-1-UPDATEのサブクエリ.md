# 概要

OracleのUPDATE文では列グループ割り当てによる更新ができるが、SQL Serverではできない。

# 用途

* UPDATE文の列グループ割り当て構文を修正する。

# SQL

## 変換前

```SQL
UPDATE RESULT_TABLE RT
    SET (SITUATION, UPDATED) = (SELECT TE1.CAPTION, SYSTIMESTAMP FROM TBL_EXAMPLE TE1 WHERE TE1.ID = RT.ID)
    WHERE (SELECT 1 FROM TBL_EXAMPLE TE2 WHERE TE2.ID = RT.ID);
```

## 変換後

```SQL
DELETE FROM TBL_EXAMPLE;
INSERT INTO TBL_EXAMPLE VALUES (2, 'CAPTION');
INSERT INTO TBL_EXAMPLE VALUES (3, 'CAPTION');
INSERT INTO TBL_EXAMPLE VALUES (4, 'CAPTION');

DELETE FROM RESULT_TABLE;
INSERT INTO RESULT_TABLE VALUES (1, 'NO UPDATE', SYSDATETIME(), NULL);
INSERT INTO RESULT_TABLE VALUES (2, 'FOR UPDATE', SYSDATETIME(), NULL);
INSERT INTO RESULT_TABLE VALUES (3, 'FOR UPDATE', SYSDATETIME(), NULL);

UPDATE RESULT_TABLE SET
    SITUATION = TE.CAPTION,
    UPDATED = SYSDATETIME()
FROM
    RESULT_TABLE RT INNER JOIN TBL_EXAMPLE TE
    ON (RT.ID = TE.ID);
```
